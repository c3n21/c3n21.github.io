---
// import { useState } from 'react';
import Button from '@/components/Button.astro'
// import { Menu, X } from 'lucide-react';
// import { ThemeToggle } from '@/components/ThemeToggle';

// const [isMenuOpen, setIsMenuOpen] = useState(false)
const [isMenuOpen, setIsMenuOpen] = [1, (_) => undefined]

const scrollToSection = (sectionId: string) => {
    const element = document.getElementById(sectionId)
    if (element) {
        element.scrollIntoView({ behavior: 'smooth' })
        setIsMenuOpen(false)
    }
}

const navItems = [
    { id: 'home', label: 'Home' },
    { id: 'resume', label: 'Resume' },
    { id: 'projects', label: 'Projects' },
    { id: 'contact', label: 'Contact' },
]
---

<nav
    class="fixed top-0 left-0 right-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border z-50"
>
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            {/* Logo */}
            <div class="flex-shrink-0">
                <h1 class="text-xl font-bold text-foreground">Portfolio</h1>
            </div>

            {/* Desktop Navigation */}
            <div class="hidden md:block">
                <div class="ml-10 flex items-center space-x-8">
                    {
                        navItems.map((item) => (
                            <button
                                onclick="() => scrollToSection(item.id)()"
                                class="text-muted-foreground hover:text-foreground transition-colors story-link"
                            >
                                {item.label}
                            </button>
                        ))
                    }
                    <!-- <ThemeToggle /> -->
                </div>
            </div>

            {/* Mobile menu button and theme toggle */}
            <div class="md:hidden flex items-center space-x-2">
                <!-- <ThemeToggle /> -->
                <Button
                    variant="ghost"
                    size="icon"
                    onClick={() => setIsMenuOpen(!isMenuOpen)}
                    class="hover-scale"
                >
                    <!-- { -->
                    <!--     isMenuOpen ? ( -->
                    <!--         <X class="h-6 w-6" /> -->
                    <!--     ) : ( -->
                    <!--         <Menu class="h-6 w-6" /> -->
                    <!--     ) -->
                    <!-- } -->
                    Test
                </Button>
            </div>
        </div>

        {/* Mobile Navigation */}
        {
            isMenuOpen && (
                <div class="md:hidden">
                    <div class="px-2 pt-2 pb-3 space-y-1 border-t border-border">
                        {navItems.map((item) => (
                            <button
                                onClick={() => scrollToSection(item.id)}
                                class="block w-full text-left px-3 py-2 text-muted-foreground hover:text-foreground transition-colors"
                            >
                                {item.label}
                            </button>
                        ))}
                    </div>
                </div>
            )
        }
    </div>
</nav>
